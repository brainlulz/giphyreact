(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(76)},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(21),c=n.n(o),i=n(4),l=n(7),s=n(6),u=(n(52),n(28)),f=n(29),d=n(34),h=n(30),m=n(35),v=(n(54),n(56),function(){return r.a.createElement("div",{className:"Error"},r.a.createElement("p",null,"Oh dear, an error occured..."),r.a.createElement("img",{src:"https://image.noelshack.com/fichiers/2018/09/2/1519745155-sad-grumpy-cat-by-yami-joey-d64r332.png",alt:"broken"}))}),g=(n(58),function(){return r.a.createElement("div",{className:"NoMatch"},r.a.createElement("p",null,"You're looking for something that doesn't exist dude."),r.a.createElement("img",{src:"https://media.giphy.com/media/3o7bu8fP6eeVGuB6G4/giphy.gif",alt:"getBack2Work"}))}),p=(n(60),function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("p",null,"Oh, hi dude."))}),E=(n(62),function(){return r.a.createElement("h1",{className:"Title"},r.a.createElement(i.b,{className:"link",to:"/"},"Gif or Gif"))}),b=(n(64),function(){return r.a.createElement("div",{className:"FavoritedBtn"},r.a.createElement(i.b,{to:"/favorited",activeClassName:"selected"},"Favorited"))}),y=(n(66),function(){return r.a.createElement("div",{className:"Header"},r.a.createElement(E,null),r.a.createElement(b,null))}),O=function(e){return{type:"CHANGE_VALUE",payload:e}},w=function(e){return function(t){return fetch(function(e){return"https://api.giphy.com/v1/gifs/search?q=".concat(e,"&api_key=vw4usscjAkDQiPbUvnGdRJfpEUWqZsuY")}(e)).then(function(n){return t(function(e){return{type:"SEARCH_START",payload:e}}(e)),200===n.status?n.json():Promise.reject({status:n.status})}).then(function(e){var n=e.data;t({type:"SEARCH_SUCCESS",payload:n})}).catch(function(e){t(function(e){return{type:"SEARCH_ERROR",payload:e}}(e))})}},S=(n(68),n(31)),N=n.n(S),_=(n(70),n(72),function(e){var t=e.gif,n=e.onToggleFavorite,a=e.hrefLink;return r.a.createElement("div",{className:"Modal"},r.a.createElement("button",{className:"FavBtn",onClick:function(){return n(t)},id:t.id}),r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"Link"))}),k=function(e){var t=e.gifInfo,n=e.onToggleFavorite,a=e.favorited;return r.a.createElement("div",{className:"Result"},r.a.createElement(_,{onToggleFavorite:n,hrefLink:t.url,gif:t}),r.a.createElement("img",{className:N()("ResultImage",{favorited:a}),id:t.id,src:t.images.fixed_height_downsampled.url,alt:t.slug}))},R=function(e){var t=e.resultType,n=e.favorites,a=e.searchResults,o=e.toggleFavorites,c=n.map(function(e){return e.id}),i="favorites"===t?n:a;return i?r.a.createElement("div",{className:"Results"},i.map(function(e){return r.a.createElement(k,{key:e.id,gifInfo:e,onToggleFavorite:o,favorited:-1!==c.indexOf(e.id)})})):r.a.createElement("div",null,"Search a gif !")},j={toggleFavorites:function(e){return{type:"TOGGLE_FAVS",favorite:e}}},T=Object(i.e)(Object(s.b)(function(e){return{favorites:e.favorites,searchResults:e.search.results}},j)(R)),C=(n(74),function(e){var t=e.value,n=e.changeValue,a=e.getGifs,o=e.history;return r.a.createElement("div",{className:"Search"},r.a.createElement("div",{className:"SearchBar"},r.a.createElement("form",{id:"form",onSubmit:function(e){e.preventDefault();var n=new URLSearchParams;return n.set("q",t),o.push({pathname:"/search",search:n.toString()}),a(t)}},r.a.createElement("button",{type:"submit",className:"SubmitBtn"}),r.a.createElement("input",{type:"search",onChange:function(e){return n(e.target.value)},value:t}))))}),A={getGifs:w,changeValue:O},F=Object(i.e)(Object(s.b)(function(e){return{search:e.search,value:e.search.value,results:e.search.results}},A)(C)),G=function(e){return new URLSearchParams(e).get("q")},L=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(e){if(this.props.location.search){var t=G(this.props.location.search);this.props.changeValue(t),this.props.getGifs(t)}}},{key:"componentWillReceiveProps",value:function(e){if(e.location.search&&e.location.search!==this.props.location.search){var t=G(e.location.search);this.props.changeValue(t),this.props.getGifs(t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(F,null),r.a.createElement(i.d,null,r.a.createElement(i.c,{exact:!0,path:"/",component:p}),r.a.createElement(i.c,{exact:!0,path:"/favorited",render:function(){return r.a.createElement(T,{resultType:"favorites",onToggleFavorite:e.handleToggleFavorite})}}),r.a.createElement(i.c,{exact:!0,path:"/search",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{resultType:"search",searchResults:e.results,onToggleFavorite:e.handleToggleFavorite}))}}),r.a.createElement(i.c,{exact:!0,path:"/error",component:v}),r.a.createElement(i.c,{component:g})))}}]),t}(a.Component),V={getGifs:w,changeValue:O},U=Object(i.e)(Object(s.b)(function(e){return{value:e.search.value}},V)(L)),H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var B=n(33),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FAVS":return e.find(function(e){return e.id===t.favorite.id})?e.filter(function(e){return e.id!==t.favorite.id}):Object(B.a)(e).concat([t.favorite]);default:return e}},P=n(9),W={value:"",loading:!1,results:[],error:null},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_VALUE":return Object(P.a)({},e,{value:t.payload});case"SEARCH_START":return Object(P.a)({},e,{loading:!0});case"SEARCH_SUCCESS":return Object(P.a)({},e,{loading:!1,results:t.payload});case"SEARCH_ERROR":return Object(P.a)({},e,{loading:!1,error:t.payload});default:return e}},J=Object(l.c)({favorites:I,search:D}),M=n(32),q=n.n(M),X={favorites:function(){var e=localStorage.getItem("favorites");return e?JSON.parse(e):[]}()},Q=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):l.d)(Object(l.a)(q.a)),Y=Object(l.e)(J,X,Q),Z=X.favorites;Y.subscribe(function(){var e,t=Y.getState().favorites;Z!==t&&(e=t,localStorage.setItem("favorites",JSON.stringify(e)),Z=t)}),c.a.render(r.a.createElement(s.a,{store:Y},r.a.createElement(i.a,null,r.a.createElement(U,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/giphyreact",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/giphyreact","/service-worker.js");H?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):x(e)})}}()}},[[36,2,1]]]);
//# sourceMappingURL=main.7e84f863.chunk.js.map